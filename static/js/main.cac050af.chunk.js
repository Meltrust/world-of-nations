(this["webpackJsonpworld-of-nations"]=this["webpackJsonpworld-of-nations"]||[]).push([[0],{88:function(e,t,c){},91:function(e,t,c){},92:function(e,t,c){"use strict";c.r(t);c(36),c(37);var n=c(0),a=c.n(n),i=c(13),s=c.n(i),r=c(7),o=c(2),l=c(6),u=c(9),d=c(30),j=c(31),b=c.n(j),m=c(33),p=c(10),h=c(32),x=c.n(h),f="FETCH_COUNTRIES_REQUEST",O="FETCH_COUNTRIES_SUCCESS",g="FETCH_COUNTRIES_FAILURE",v="SEARCH_COUNTRY",N={loading:!1,countriesDisplay:[],error:""},y=function(){return function(e){e({type:f}),x.a.get("https://restcountries.com/v3.1/all").then((function(t){var c=t.data.map((function(e){return{id:e.cca3,name:e.name.common,capital:e.capital,region:e.region,population:e.population,flag:e.flags.svg,officialName:e.name.official,land:e.area}}));e(function(e){return{type:O,payload:e}}(c))})).catch((function(t){e(function(e){return{type:g,payload:e}}(t.message))}))}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(p.a)(Object(p.a)({},e),{},{loading:!0});case O:return{loading:!1,countries:t.payload,countriesDisplay:t.payload,searchBox:"",error:""};case g:return{loading:!1,countries:[],error:t.payload};case v:return Object(p.a)(Object(p.a)({},e),{},{countriesDisplay:e.countries.filter((function(e){return e.name.toLowerCase().includes(t.payload.toLowerCase())})),searchBox:t.payload});default:return e}},C=Object(u.combineReducers)({countriesReducer:w}),E=Object(u.createStore)(C,Object(d.composeWithDevTools)(Object(u.applyMiddleware)(b.a,m.a))),R=(c(88),c(35)),S=c(1),T=function(){return Object(S.jsxs)("nav",{className:"navbar fixed-top strong-pink ",children:[Object(S.jsx)(r.b,{to:"/",className:"text-white",children:Object(S.jsx)(R.a,{className:"ms-2 ms-md-3 ms-lg-5 me-2 home-arrow-button"})}),Object(S.jsx)("h1",{className:"col-10 me-4 me-md-5 me-lg-0 col-sm-10 col-lg-10 fs-4 text-white",children:"World of Nations"})]})},D=c(18),k=c.n(D),M=c(34),F=function(e){var t=e.name,c=e.population;return Object(S.jsxs)("div",{className:"section-header col-12 d-flex flex-column justify-content-center align-items-end",children:[Object(S.jsx)("h1",{className:"fw-bold text-white text-center m-0 p-3 px-0  pb-0 section-header-text",children:t}),Object(S.jsx)("div",{className:"d-flex flex-column",children:Object(S.jsxs)("small",{className:"text-white align-self-center text-center p-0 m-0",children:["population:","    ".concat(c)]})})]})},I=function(e){return Math.abs(Number(e))>=1e9?"".concat((Math.abs(Number(e))/1e9).toFixed(2)," billion"):Math.abs(Number(e))>=1e6?"".concat((Math.abs(Number(e))/1e6).toFixed(2)," million"):Math.abs(Number(e))>=1e3?"".concat((Math.abs(Number(e))/1e3).toFixed(2)," K"):Math.abs(Number(e))},U=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.countriesReducer}));function c(){return(c=Object(M.a)(k.a.mark((function c(){return k.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(t.countriesDisplay===[]){c.next=3;break}return c.next=3,e(y());case 3:case"end":return c.stop()}}),c)})))).apply(this,arguments)}Object(n.useEffect)((function(){!function(){c.apply(this,arguments)}(),window.scrollTo(0,0)}),[]);var a=Object(o.i)(),i=t.countriesDisplay.find((function(e){return e.id===a.countryId}));return i?Object(S.jsxs)("div",{className:"col-12 row m-0 mt-5 list-links text-center",children:[t&&t.countriesDisplay&&Object(S.jsx)(F,{name:i.name,population:I(i.population)}),Object(S.jsxs)("div",{className:"min-vh-100 d-flex flex-column p-0",children:[Object(S.jsx)("div",{className:"row p-0 p-lg-5 ",children:Object(S.jsx)("img",{className:"col flag",src:i.flag,alt:""})}),Object(S.jsxs)("div",{className:"mb-5 mt-5 mt-lg-0 p-3",children:[" ",Object(S.jsx)("h2",{children:"Country info"}),Object(S.jsxs)("div",{className:"d-flex flex-column",children:[Object(S.jsxs)("div",{children:["Official name:"," ",i.officialName," "]}),Object(S.jsxs)("div",{children:["Region:"," ",i.region," "]}),Object(S.jsxs)("div",{children:["Capital:"," ",i.capital," "]}),Object(S.jsxs)("div",{children:["Area:"," ",i.land," "]}),Object(S.jsxs)("div",{children:["Population:"," ",i.population," "]})]})]})]})]}):Object(S.jsx)(o.a,{to:"/"})},_=(c(91),function(e){var t=e.id,c=e.name,n=e.population;return Object(S.jsxs)("li",{id:t,className:"border border-white light-pink text-center collection-item d-flex flex-column justify-content-center",children:[Object(S.jsx)("h2",{children:c}),Object(S.jsx)("span",{className:"align-bottom",children:Object(S.jsxs)("small",{className:"m-0",children:["Population:"," ",I(n)]})})]})}),L=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.countriesReducer})),c=function(t){var c;e((c=t.target.value,function(e){e({type:v,payload:c})}))};return Object(S.jsx)("div",{className:"row m-0 p-0 bg-dark",children:Object(S.jsx)("form",{children:Object(S.jsx)("input",{className:"form-control search-bar my-2",placeholder:"Start typing country name...",value:t.searchBox,onChange:function(e){c(e)}})})})},B=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.countriesReducer}));return Object(n.useEffect)((function(){0===t.countriesDisplay.length&&e(y()),window.scrollTo(0,0)}),[]),t.loading?Object(S.jsx)("h2",{className:"text-white",children:"Loading..."}):t.error?Object(S.jsx)("h2",{className:"text-white",children:t.error}):Object(S.jsxs)("div",{className:"col-12 row m-0 mt-5","data-testid":"countriesList",children:[Object(S.jsx)(F,{name:"Whole World",population:"7.753 billion"}),Object(S.jsx)(L,{}),t&&t.countriesDisplay&&t.countriesDisplay.map((function(e){return Object(S.jsx)(r.b,{to:"/target/".concat(e.id),className:"p-0 col-6 col-md-4 col-lg-3 col-xl-2 list-links ",children:Object(S.jsx)(_,{id:e.id,name:e.name,population:e.population},e.id)},e.name)})),Object(S.jsx)(o.b,{})]})};var H=function(){return Object(S.jsx)(B,{})};s.a.render(Object(S.jsx)(a.a.StrictMode,{children:Object(S.jsx)(r.a,{basename:"/world-of-nations",children:Object(S.jsx)(l.a,{store:E,children:Object(S.jsxs)("div",{className:"min-vh-100 p-0",children:[Object(S.jsx)(T,{}),Object(S.jsxs)(o.e,{children:[Object(S.jsx)(o.c,{path:"/",element:Object(S.jsx)(H,{})}),Object(S.jsx)(o.c,{path:"/target",element:Object(S.jsx)(U,{}),children:Object(S.jsx)(o.c,{path:":countryId",element:Object(S.jsx)(U,{})})})]})]})})})}),document.getElementById("root"))}},[[92,1,2]]]);
//# sourceMappingURL=main.cac050af.chunk.js.map