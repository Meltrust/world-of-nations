(this["webpackJsonpworld-of-nations"]=this["webpackJsonpworld-of-nations"]||[]).push([[0],{88:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){"use strict";n.r(t);n(36),n(37);var c=n(0),a=n.n(c),s=n(13),i=n.n(s),o=n(7),r=n(2),l=n(6),u=n(9),j=n(31),d=n(32),b=n.n(d),m=n(34),p=n(10),h=n(33),x=n.n(h),f="FETCH_COUNTRIES_REQUEST",O="FETCH_COUNTRIES_SUCCESS",g="FETCH_COUNTRIES_FAILURE",N="SEARCH_COUNTRY",v={loading:!1,countriesDisplay:[],error:""},y=function(){return function(e){e({type:f}),x.a.get("https://restcountries.com/v3.1/all").then((function(t){var n=t.data.map((function(e){return{id:e.cca3,name:e.name.common,capital:e.capital,region:e.region,population:e.population,flag:e.flags.svg,officialName:e.name.official,land:e.area}}));e(function(e){return{type:O,payload:e}}(n))})).catch((function(t){e(function(e){return{type:g,payload:e}}(t.message))}))}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return console.log("fetching"),Object(p.a)(Object(p.a)({},e),{},{loading:!0});case O:return console.log("success"),{loading:!1,countries:t.payload,countriesDisplay:t.payload,searchBox:"",error:""};case g:return console.log("error"),{loading:!1,countries:[],error:t.payload};case N:return Object(p.a)(Object(p.a)({},e),{},{countriesDisplay:e.countries.filter((function(e){return e.name.toLowerCase().includes(t.payload.toLowerCase())})),searchBox:t.payload});default:return e}},C=Object(u.combineReducers)({countriesReducer:w}),E=Object(u.createStore)(C,Object(j.composeWithDevTools)(Object(u.applyMiddleware)(b.a,m.a))),R=(n(88),n(15)),S=n(1),T=function(){return Object(S.jsxs)("nav",{className:"navbar fixed-top strong-pink ",children:[Object(S.jsx)(o.b,{to:"/",className:"text-white",children:Object(S.jsx)(R.a,{className:"ms-2 me-2 home-arrow-button"})}),Object(S.jsx)("h1",{className:"col-9 fs-4 text-white",children:"World of Nations"}),Object(S.jsx)(R.c,{className:"mx-0"}),Object(S.jsx)(R.b,{className:"ms-2 me-3 text-white"})]})},D=n(19),k=n.n(D),M=n(35),F=function(e){var t=e.name,n=e.population;return Object(S.jsxs)("div",{className:"section-header col-12 d-flex flex-column justify-content-center align-items-end",children:[Object(S.jsx)("h1",{className:"fw-bold text-white text-center m-0 p-3 px-0  pb-0 section-header-text",children:t}),Object(S.jsx)("div",{className:"d-flex flex-column",children:Object(S.jsxs)("small",{className:"text-white align-self-center text-center p-0 m-0",children:["population:","    ".concat(n)]})})]})},I=function(e){return Math.abs(Number(e))>=1e9?"".concat((Math.abs(Number(e))/1e9).toFixed(2)," billion"):Math.abs(Number(e))>=1e6?"".concat((Math.abs(Number(e))/1e6).toFixed(2)," million"):Math.abs(Number(e))>=1e3?"".concat((Math.abs(Number(e))/1e3).toFixed(2)," K"):Math.abs(Number(e))},U=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.countriesReducer}));function n(){return(n=Object(M.a)(k.a.mark((function n(){return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.countriesDisplay!==[]){n.next=3;break}return n.next=3,e(y());case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}Object(c.useEffect)((function(){!function(){n.apply(this,arguments)}(),window.scrollTo(0,0)}),[]);var a=Object(r.h)(),s=t.countriesDisplay.find((function(e){return e.id===a.countryId}));return Object(S.jsxs)("div",{className:"col-12 row m-0 mt-5 list-links text-center",children:[t&&t.countriesDisplay&&Object(S.jsx)(F,{name:s.name,population:I(s.population)}),Object(S.jsxs)("div",{className:"min-vh-100 d-flex flex-column p-0",children:[Object(S.jsx)("div",{className:"row p-0 p-lg-5 ",children:Object(S.jsx)("img",{className:"col flag",src:s.flag,alt:""})}),Object(S.jsxs)("div",{className:"mb-5 mt-5 mt-lg-0 p-3",children:[" ",Object(S.jsx)("h2",{children:"Country info"}),Object(S.jsxs)("div",{"d-flex":!0,"flex-columnn":!0,children:[Object(S.jsxs)("div",{children:["Official name:"," ",s.officialName," "]}),Object(S.jsxs)("div",{children:["Region:"," ",s.region," "]}),Object(S.jsxs)("div",{children:["Capital:"," ",s.capital," "]}),Object(S.jsxs)("div",{children:["Area:"," ",s.land," "]}),Object(S.jsxs)("div",{children:["Population:"," ",s.population," "]})]})]})]})]})},_=(n(91),function(e){var t=e.id,n=e.name,c=e.population;return Object(S.jsxs)("li",{id:t,className:"border border-white light-pink text-center collection-item d-flex flex-column justify-content-center",children:[Object(S.jsx)("h2",{children:n}),Object(S.jsx)("span",{className:"align-bottom",children:Object(S.jsxs)("small",{className:"m-0",children:["Population:"," ",I(c)]})})]})}),L=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.countriesReducer})),n=function(t){var n;e((n=t.target.value,function(e){e({type:N,payload:n})}))};return Object(S.jsx)("div",{className:"row m-0 p-0 bg-dark",children:Object(S.jsx)("form",{children:Object(S.jsx)("input",{className:"form-control search-bar my-2",placeholder:"Start typing country name...",value:t.searchBox,onChange:function(e){n(e)}})})})},B=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.countriesReducer}));return Object(c.useEffect)((function(){0===t.countriesDisplay.length&&e(y()),window.scrollTo(0,0)}),[]),t.loading?Object(S.jsx)("h2",{className:"text-white",children:"Loading..."}):t.error?Object(S.jsx)("h2",{className:"text-white",children:t.error}):Object(S.jsxs)("div",{className:"col-12 row m-0 mt-5","data-testid":"countriesList",children:[Object(S.jsx)(F,{name:"Whole World",population:"7.753 billion"}),Object(S.jsx)(L,{}),t&&t.countriesDisplay&&t.countriesDisplay.map((function(e){return Object(S.jsx)(o.b,{to:"/target/".concat(e.id),className:"p-0 col-6 col-md-4 col-lg-3 col-xl-2 list-links ",children:Object(S.jsx)(_,{id:e.id,name:e.name,population:e.population},e.id)},e.name)})),Object(S.jsx)(r.a,{})]})};var H=function(){return Object(S.jsx)(B,{})};i.a.render(Object(S.jsx)(a.a.StrictMode,{children:Object(S.jsx)(o.a,{basename:"/world-of-nations",children:Object(S.jsx)(l.a,{store:E,children:Object(S.jsxs)("div",{className:"min-vh-100 p-0",children:[Object(S.jsx)(T,{}),Object(S.jsxs)(r.d,{children:[Object(S.jsx)(r.b,{path:"/",element:Object(S.jsx)(H,{})}),Object(S.jsx)(r.b,{path:"/target",element:Object(S.jsx)(U,{}),children:Object(S.jsx)(r.b,{path:":countryId",element:Object(S.jsx)(U,{})})})]})]})})})}),document.getElementById("root"))}},[[92,1,2]]]);
//# sourceMappingURL=main.383ee0dd.chunk.js.map