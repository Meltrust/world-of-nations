(this["webpackJsonpworld-of-nations"]=this["webpackJsonpworld-of-nations"]||[]).push([[0],{88:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){"use strict";n.r(t);n(36),n(37);var c=n(0),a=n.n(c),r=n(13),i=n.n(r),s=n(7),o=n(2),l=n(6),d=n(9),u=n(30),j=n(31),b=n.n(j),m=n(33),p=n(10),f=n(32),x=n.n(f),h="FETCH_COUNTRIES_REQUEST",O="FETCH_COUNTRIES_SUCCESS",g="FETCH_COUNTRIES_FAILURE",N="SEARCH_COUNTRY",v={loading:!1,countriesDisplay:[],error:""},y=function(){return function(e){e({type:h}),x.a.get("https://restcountries.com/v3.1/all").then((function(t){var n=t.data.map((function(e){return{id:e.cca3,name:e.name.common,capital:e.capital,region:e.region,population:e.population,flag:e.flags.svg,officialName:e.name.official,land:e.area,map:e.maps.googleMaps}}));e(function(e){return{type:O,payload:e}}(n))})).catch((function(t){e(function(e){return{type:g,payload:e}}(t.message))}))}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(p.a)(Object(p.a)({},e),{},{loading:!0});case O:return{loading:!1,countries:t.payload,countriesDisplay:t.payload,searchBox:"",error:""};case g:return{loading:!1,countries:[],error:t.payload};case N:return Object(p.a)(Object(p.a)({},e),{},{countriesDisplay:e.countries.filter((function(e){return e.name.toLowerCase().includes(t.payload.toLowerCase())})),searchBox:t.payload});default:return e}},k=Object(d.combineReducers)({countriesReducer:w}),C=Object(d.createStore)(k,Object(u.composeWithDevTools)(Object(d.applyMiddleware)(b.a,m.a))),E=(n(88),n(35)),R=n(1),S=function(){return Object(R.jsxs)("nav",{className:"navbar fixed-top strong-pink main-nav",children:[Object(R.jsx)(s.b,{to:"/",className:"text-white",children:Object(R.jsx)(E.a,{className:"ms-2 ms-md-3 ms-lg-5 me-2 home-arrow-button"})}),Object(R.jsx)("h1",{className:"col-10 me-4 me-md-5 me-lg-0 col-sm-10 col-lg-10 fs-4 text-white",children:"World of Nations"})]})},T=n(18),D=n.n(T),M=n(34),_=function(e){var t=e.name,n=e.population;return Object(R.jsxs)("div",{className:"section-header col-12 d-flex flex-column justify-content-center align-items-end",children:[Object(R.jsx)("h1",{className:"fw-bold text-white text-center m-0 p-3 px-0  pb-0 section-header-text",children:t}),Object(R.jsx)("div",{className:"d-flex flex-column",children:Object(R.jsxs)("small",{className:"text-white align-self-center text-center p-0 m-0",children:["population:","    ".concat(n)]})})]})},F=function(e){return Math.abs(Number(e))>=1e9?"".concat((Math.abs(Number(e))/1e9).toFixed(2)," billion"):Math.abs(Number(e))>=1e6?"".concat((Math.abs(Number(e))/1e6).toFixed(2)," million"):Math.abs(Number(e))>=1e3?"".concat((Math.abs(Number(e))/1e3).toFixed(2)," K"):Math.abs(Number(e))},I=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.countriesReducer}));function n(){return(n=Object(M.a)(D.a.mark((function n(){return D.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.countriesDisplay===[]){n.next=3;break}return n.next=3,e(y());case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}Object(c.useEffect)((function(){!function(){n.apply(this,arguments)}(),window.scrollTo(0,0)}),[]);var a=Object(o.i)(),r=t.countriesDisplay.find((function(e){return e.id===a.countryId}));if(!r)return Object(R.jsx)(o.a,{to:"/"});var i="https://www.wikipedia.org/wiki/".concat(r.name.split(" ").join("_"));return Object(R.jsxs)("div",{className:"col-12 row m-0 mt-5 country-info-container text-center",children:[t&&t.countriesDisplay&&Object(R.jsx)(_,{name:r.name,population:F(r.population)}),Object(R.jsxs)("div",{className:"min-vh100 d-flex flex-column p-0",children:[Object(R.jsx)("div",{className:"row p-0 d-flex flag-container bg-dark justify-content-center",children:Object(R.jsx)("img",{className:"d-flex py-md-2 py-lg-3 flag",src:r.flag,alt:""})}),Object(R.jsxs)("div",{className:"   p-4 p-md-3 info-container row gx-0",children:[" ",Object(R.jsx)("h2",{className:"t-0 mt-lg-2 pt-4 pt-md-5 pt-lg-3",children:"Country info"}),Object(R.jsxs)("div",{className:"d-flex flex-column info-data-box",children:[Object(R.jsxs)("div",{children:["Official name:"," ",r.officialName," "]}),Object(R.jsxs)("div",{children:["Region:"," ",r.region," "]}),Object(R.jsxs)("div",{children:["Capital:"," ",r.capital," "]}),Object(R.jsxs)("div",{children:["Area:"," ",r.land," "]}),Object(R.jsxs)("div",{children:["Population:"," ",r.population," "]}),Object(R.jsxs)("div",{className:"d-flex justify-content-center flex-column flex-lg-row info-link-buttons",children:[Object(R.jsx)("button",{type:"button",className:"btn btn-dark align-self-center mt-4 mt-lg-3 me-lg-4",children:Object(R.jsxs)("a",{href:r.map,target:"_blank",rel:"noreferrer",children:["Open map"," "," "]})}),Object(R.jsx)("button",{type:"button",className:"btn btn-dark align-self-center mt-3",children:Object(R.jsxs)("a",{href:i,target:"_blank",rel:"noreferrer",children:["Visit wiki"," "," "]})})]})]})]})]})]})},U=(n(91),function(e){var t=e.id,n=e.name,c=e.population;return Object(R.jsxs)("li",{id:t,className:"border border-white light-pink text-center collection-item d-flex flex-column justify-content-center",children:[Object(R.jsx)("h2",{children:n}),Object(R.jsx)("span",{className:"align-bottom",children:Object(R.jsxs)("small",{className:"m-0",children:["Population:"," ",F(c)]})})]})}),L=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.countriesReducer})),n=function(t){var n;e((n=t.target.value,function(e){e({type:N,payload:n})}))};return Object(R.jsx)("div",{className:"row m-0 p-0 bg-dark form-container",children:Object(R.jsx)("form",{children:Object(R.jsx)("input",{className:"form-control search-bar my-2",placeholder:"Start typing country name...",value:t.searchBox,onChange:function(e){n(e)}})})})},B=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.countriesReducer}));return Object(c.useEffect)((function(){0===t.countriesDisplay.length&&e(y()),window.scrollTo(0,0)}),[]),t.loading?Object(R.jsx)("h2",{className:"text-white",children:"Loading..."}):t.error?Object(R.jsx)("h2",{className:"text-white",children:t.error}):Object(R.jsxs)("div",{className:"col-12 row m-0 mt-5","data-testid":"countriesList",children:[Object(R.jsx)(_,{name:"Whole World",population:"7.753 billion"}),Object(R.jsx)(L,{}),t&&t.countriesDisplay&&t.countriesDisplay.map((function(e){return Object(R.jsx)(s.b,{to:"/target/".concat(e.id),className:"p-0 col-6 col-md-4 col-lg-3 col-xl-2 list-links ",children:Object(R.jsx)(U,{id:e.id,name:e.name,population:e.population},e.id)},e.name)})),Object(R.jsx)(o.b,{})]})};var H=function(){return Object(R.jsx)(B,{})};i.a.render(Object(R.jsx)(a.a.StrictMode,{children:Object(R.jsx)(s.a,{children:Object(R.jsx)(l.a,{store:C,children:Object(R.jsxs)("div",{className:"min-vh100 p-0",children:[Object(R.jsx)(S,{}),Object(R.jsxs)(o.e,{children:[Object(R.jsx)(o.c,{path:"/",element:Object(R.jsx)(H,{})}),Object(R.jsx)(o.c,{path:"/target",element:Object(R.jsx)(I,{}),children:Object(R.jsx)(o.c,{path:":countryId",element:Object(R.jsx)(I,{})})})]})]})})})}),document.getElementById("root"))}},[[92,1,2]]]);
//# sourceMappingURL=main.1243793f.chunk.js.map